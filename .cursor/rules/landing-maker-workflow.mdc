---
description: Landing Maker 多 Agent 工作流，创建 landing 页面时遵循此流程
alwaysApply: true
---

# Landing Maker 工作流

当用户要创建 landing 页面、产品官网、宣传页时，按以下流程执行。

## 三种设计路径（保持不变）

| 路径 | 名称 | 主导方 | 流程 |
|------|------|--------|------|
| 1 | 纯创意 | 设计大师 | 设计大师 → 前端专家 |
| 2 | 内容工具 | 前端专家 | 前端专家直接实现（可跳过设计规格） |
| 3 | 参考+创意 | 设计大师 | 用户提供参考页面 → 设计大师 → 前端专家 |

## 流程顺序

1. **入口 Agent（产品专家）** → 多轮对话挖掘需求
   - 接收产品文档（可选）：解析 PRD、品牌手册等
   - 多轮对话：渐进式提问，逐步明确需求
   - 信息融合：将文档内容与对话信息结合
   - 路径选择：引导用户选择最适合的设计路径
2. **保存需求** → 将收集到的需求整理为 `demand.md`，写入 `tests/YYYYMMDD-HHMMSS/demand.md`
3. **头脑风暴阶段**（需求挖掘完成后必须执行）：
   - **项目经理 Agent**（landing-project-manager）组织头脑风暴会议
   - **参与者**：产品专家、SEO 专家、设计大师、前端专家
   - **讨论内容**：针对 `demand.md` 中的用户需求进行多角度分析和建议
     - 产品专家：从产品角度提出内容优化建议
     - SEO 专家：从 SEO 角度提出关键词和优化建议
     - 设计大师：从设计角度提出视觉和交互建议
     - 前端专家：从实现角度提出技术可行性建议
   - **项目经理总结**：汇总各专家的建议，形成头脑风暴总结报告
   - **交付产品专家**：项目经理将总结报告交付给产品专家
   - **更新需求文档**：产品专家根据头脑风暴结果更新 `demand.md`
4. **最终确认** → 产品专家向用户展示更新后的 `demand.md`，根据反馈修正，待用户确认后再进入生成
5. **SEO 优化阶段**（用户确认 `demand.md` 后，生成前必须执行）：
   - **项目经理 Agent** 协调 SEO 专家 Agent（landing-seo-expert）
   - 基于 `demand.md` 生成关键词与 SEO 建议
   - 将 SEO 建议写入同目录下的 `seo-suggestions.md`
6. **生成阶段**（SEO 建议生成后，按所选路径执行）：
   - **项目经理 Agent** 协调各 Agent 执行任务
   - **路径 1**：项目经理协调设计大师 → 产出设计规格 → 协调前端专家实现（参考 SEO 建议）
   - **路径 2**：项目经理协调前端专家主导，直接实现（参考 SEO 建议和设计大师建议）
   - **路径 3**：项目经理协调设计大师参考后产出设计规格 → 协调前端专家实现（参考 SEO 建议）
7. **评分阶段**（生成完成后必须执行）：
   - **项目经理 Agent** 调用评分 Agent（landing-scorer）
   - 对本次生成的页面进行评分
   - 将评分报告写入同目录下的 `rating.md`
8. **合格性检查**（评分完成后必须执行）：
   - **项目经理 Agent** 检查评分结果是否达到合格标准：
     - 各大项评分：每个维度得分 ≥ 该维度满分的 80%
     - 总分：≥ 85 分
   - **若不合格**：视为未完成，进入迭代优化流程（步骤 9）
   - **若合格**：进入项目完成检查清单（步骤 8.1）
8.1. **项目完成检查清单**（合格性检查通过后必须执行）：
   - [ ] 需求挖掘完成
   - [ ] 头脑风暴完成
   - [ ] SEO 优化完成
   - [ ] 页面生成完成
   - [ ] 评分完成
   - [ ] 合格性检查通过
   - [ ] **项目复盘完成**（必须执行）
   - 所有检查项完成后，项目正式完成
9. **迭代优化流程**（仅当评分不合格时执行）：
   - **项目经理 Agent** 读取 `rating.md` 中的评分报告和优化建议
   - **项目经理 Agent** 根据优化建议，确定需要优化的 Agent：
     - **需求符合度不达标**：协调产品专家（orchestrator）检查需求理解
     - **UI/UX 规范不达标**：协调前端专家优化
     - **设计质量不达标**：协调设计大师（路径 1、3）或前端专家（路径 2）优化
     - **技术实现不达标**：协调前端专家优化
     - **SEO 质量不达标**：
       - 5.1 SEO 专家输出质量不达标：协调 SEO 专家优化 `seo-suggestions.md`
       - 5.2 前端专家实施质量不达标：协调前端专家优化页面实施
   - **项目经理 Agent** 协调相关 Agent 根据 `rating.md` 中的优化建议进行改进
   - 相关 Agent 完成优化后，生成新版本页面（`landing-v2.html`、`landing-v3.html` 等）
   - **项目经理 Agent** 返回步骤 7，重新评分
   - **重复迭代，直到评分合格为止**
   - **迭代限制**：记录迭代次数，如迭代超过 5 次仍未合格，向用户报告问题并寻求指导
10. **项目复盘阶段**（合格性检查通过后必须执行，无论是否经过迭代优化）：
    - **项目经理 Agent**（landing-project-manager）组织全体参与 Agent 进行项目复盘
    - **参与者**：产品专家、SEO 专家、设计大师、前端专家、评分 Agent
    - **复盘内容**：对项目流程各个阶段进行复盘
      - 需求挖掘阶段：产品专家的表现和不足
      - 头脑风暴阶段：各专家的参与度和建议质量
      - SEO 优化阶段：SEO 专家的输出质量和建议完整性
      - 生成阶段：设计大师和前端专家的实现质量
      - 评分阶段：评分 Agent 的评估准确性和建议有效性
      - 迭代优化阶段：各 Agent 的优化效果和响应速度
    - **问题识别**：明确各个 Agent 不足的地方
    - **能力提升建议**：输出各个 Agent 能力提高的建议
    - **技能优化**：根据复盘结果，优化各个 Agent 的技能（Skill 文件）
    - **复盘报告**：生成项目复盘报告，记录复盘结果和优化建议
    - **输出路径**：将复盘报告写入 `tests/YYYYMMDD-HHMMSS/retrospective.md`
    - **执行时机**：项目达到合格标准后立即执行，不得遗漏

## 关键点

- **产品专家角色**：入口 Agent 以产品专家身份，通过文档解析和多轮对话深度挖掘需求
- **多轮对话**：不急于一次问完所有问题，采用渐进式提问，逐步明确需求
- **文档支持**：支持用户提交产品文档、PRD、品牌手册等，与对话信息融合
- **三条路径**：逻辑不变，始终保持清晰
- **demand.md**：记录用户需求，便于后续使用和沟通
- **头脑风暴**：需求挖掘完成后，项目经理 Agent（landing-project-manager）组织各专家进行头脑风暴，优化需求文档
- **项目经理**：项目经理 Agent 专门负责协调管理，不负责需求挖掘和具体的设计、开发、SEO 工作
- **最终确认**：生成前向用户展示更新后的 `demand.md` 并确认，用户同意后再开始
- **SEO 优化**：用户确认 `demand.md` 后，SEO 专家生成 `seo-suggestions.md`，供前端专家参考
- **输出**：`tests/YYYYMMDD-HHMMSS/`，初版 `landing.html`，调整后 `landing-v2.html` 等
- **seo-suggestions.md**：SEO 专家基于 `demand.md` 生成的 SEO 优化建议
- **rating.md**：每次生成完成后，由评分 Agent 输出并写入评分报告
- **retrospective.md**：项目完成后，由项目经理 Agent（landing-project-manager）组织复盘并输出复盘报告
